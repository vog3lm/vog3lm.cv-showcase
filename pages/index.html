<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>vog3lm.cv</title>
	<link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="css/font.awesome.min.css">
    <link rel="stylesheet" href="css/design.white.css">

	<link rel="shortcut icon" href="images/favicon.coyote.poly_white.b.png" type="image/x-icon" />
	<link rel="icon" 		  href="images/favicon.coyote.poly_white.b.png" type="image/x-icon" />

	<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-auth.js"></script>

	<script type="text/javascript" src="js/jq.min.js"></script>
	<script type="text/javascript" src="js/backend.js"></script>
	<script type="text/javascript" src="js/animate.dotNet.js"></script>
	<script type="text/javascript">

		function Scro113r4p1Operator(){
			var content = null;
			var scrolled = 0;
			var args = {'scale':1.5
					   ,'node':'section#content div#story'
					   ,'wheel':true
					   ,'keys':true}
			var width = 0;
			this.decorate = function(opts){
				for (var key in opts){
					if(args.hasOwnProperty(key)){
						args[key] = opts[key];
					}
				}
				return this;
			}
			this.create = function(){
				content = $(args.node);
				content.find('div').each(function(){
				    width += $(this).outerWidth();
				});
				content.on('wheel', function(e){scrollDelta(e.originalEvent.deltaY);});
				return this;
			}

			this.delta = function(delta){scrollDelta(delta);}
			function scrollDelta(delta){
				if(scrolled <= width && scrolled >= 0){
					scrolled+=Math.floor((delta*args.scale))
					if(scrolled < 0){scrolled = 0;}
					else if(scrolled > width){scrolled = width;}
				}
	        	content.scrollLeft(scrolled);
			}
			function scrollSection(sec){
			}
		}

		var animations = {}
		var dispatcher = null
		var cssStyle = 'white';

		function V13wEv3ntsConfiguration(){
			var style = new St1l34p1Operator()
			var authenicate = new F1rebas3Auth4p1Operator(firebase).create();
			//	var storage = new F1rebas3Storage4p1Operator(firebase);
			var scroller = new Scro113r4p1Operator().create();
			var events = {
				'footer-toggle':(data) => {
					var element = $("body")
					if(!element.hasClass('scroll-flag')){element.scrollTop($(document).height());}
					else{element.scrollTop(0);}
					element.toggleClass('scroll-flag')
					var clicker = $("a#footer-toggle")
					clicker.toggleClass('fa-chevron-down')
					clicker.toggleClass('fa-chevron-up')
				 }
				,'help-toggle':(data) => {
					var popup = $('popup');
					// view factory
					// view factory
					popup.html('<div style="background-color:rgba(34,34,34,1);padding:0.75em">'+' geture help overlay'+'</div>');
					popup.css({'left':(window.innerWidth-popup.outerWidth())/2,'top':(window.innerHeight-popup.outerHeight())/2});
					if(!popup.hasClass('hide')){
						popup.html('');
					}
					popup.toggleClass('hide');
				}
				,'token-toggle':(data) => {
					var popup = $('popup');
					// view factory
					// view factory
					popup.html('<div style="background-color:rgba(34,34,34,1);padding:0.75em">'+authenicate.getToken()+'</div>');
					popup.css({'left':(window.innerWidth-popup.outerWidth())/2,'top':(window.innerHeight-popup.outerHeight())/2});
					if(!popup.hasClass('hide')){
						popup.html('');
					}
					popup.toggleClass('hide');
				}
				,'cfg-toggle':(data) => {$('nav#cfg-navigation').toggleClass('hide');}
				,'loading-start':(data) => {
					var overlay = $('overlay');
					// view factory
					// view factory
					overlay.html('<div style="height:100%;width:100%;color:black;background-color:rgba(255,255,255,0.75);">'
							+'<span">'+data.id+'</span>'
							+'<a style="line-height:96px;position:absolute;top:calc(50% - 48px);left:calc(50% - 48px); width:96px;height:96px;font-size:7em;" class="fa fa-spinner fa-spin"></a>'
							+'</div>');
					overlay.removeClass('hide')
				}
				,'loading-stop':(data) => {
					var overlay = $('overlay');
					overlay.html('');
					overlay.addClass('hide')
				}
				,'login-show':(data) => {
					var tag = $('user')
					tag.find('form').removeClass('hide');
					tag.find('a.fa-hashtag').attr('call','login-hide');
				}
				,'login-hide':(data) => {
					var tag = $('user')
					tag.find('form').addClass('hide');
					tag.find('a.fa-hashtag').attr('call','login-show');
				}
				,'login-validate':(data) => {
					$('body').trigger('loading-start',{'call':'loading-start','id':'login-validate'});
					$('body').trigger('log-in',[{'mail':$('input#mail').val(),'pass':$('input#pass').val(),'call':'log-in','id':'login-validate'}]);
				}
				,'logged-in':(data) => {
					var tag = $('user')
					tag.find('input#mail').val('');
					tag.find('input#pass').val('');
					tag.find('card').removeClass('hide')
					tag.find('a.fa-hashtag').attr('call','log-out');
					tag.find('id').html(data.mail);
					$('body').trigger('loading-stop',{'call':'loading-stop','id':'logged-in'});
				}
				,'log-out':(data) => {
					$('body').trigger('loading-start',{'call':'loading-starts','id':'logged-out'});
				}
				,'logged-out':(data) => {
					var tag = $('user')
					tag.find('card').addClass('hide')
					tag.find('input#mail').val('');
					tag.find('input#pass').val('');

			    	tag.find('user span#mail').html('');
			    	//	$('user a.fa-user').attr('call','log-in');
			    	$('body').trigger('loading-stop',{'call':'loading-stop','id':'logged-out'});
			    }
				,'click-animation':(data) => {console.log('animationClick',data);}
				,'animation-pause':(data) => {
					$('nav a.fa-pause').each(function(){
						var element = $(this)
						element.attr('call','animation-play')
						element.removeClass('fa-pause')
						element.addClass('fa-play')
					})
					jQuery.each(animations,(key,value) => {
					  	value.pause()
					});
				}
				,'animation-play':(data) => {
					$('nav a.fa-play').each(function(){
						var element = $(this)
						element.attr('call','animation-pause')
						element.removeClass('fa-play')
						element.addClass('fa-pause')
					})
					jQuery.each(animations,(key,value) => {
					  	value.pause()
					});
				}
				,'animation-colors':(data) => {
					var colors = ['#fb1','#67f','#b0f','#2F2','#6be','#e5f','#ff1','#777']
					jQuery.each(animations,(key,value) => {
					  	value.decorate({'lineColor':colors[Math.floor(Math.random()*(colors.length-1))]})
					});
				}
				,'style-toggle':(data) => {
					style.remove('css/design.'+cssStyle+'.css')
					if('white' == cssStyle){cssStyle = 'dark'}
					else if('dark' == cssStyle){cssStyle = 'white'}
					style.add('css/design.'+cssStyle+'.css')
				}
				,'content-header-request':(data) => {
					authenicate.reqHeader('https://us-central1-vog3lm-0x1.cloudfunctions.net/mvc/');
				}
				,'content-cookie-request':(data) => {
					authenicate.reqCookie('https://us-central1-vog3lm-0x1.cloudfunctions.net/mvc/');
				}
				,'qr-parameter-request':(data) => {
					var token = '7DaFcHfMhPkSpUrXuZw3z6B8DbGdJfNjQmTqVsXv2x4z7C9EbHeKgPkRnTrWtYv3y5A7DaFcJfMhPmSpUrXuZw3z6B8EbGdJgNjQ]';
					var url = 'https://us-central1-vog3lm-0x1.cloudfunctions.net/qr/?qR1D='+token
					var type = 'GET'
					
					console.log('Sending request to', url, 'with ID token in Authorization header.');
					var req = new XMLHttpRequest();
					req.onload = function() {
						console.log(req)
						//this.responseContainer.innerText = req.responseText;
					};
					req.onerror = function() {
						console.error(req.responseText,'qR1D parameter request error')
						//this.responseContainer.innerText = 'There was an error';
					};
					req.open(type,url,true);
					req.send();
				}
			}
			this.getEvents = function(){
				return {'events':Object.keys(events),'issues':Object.values(events)}
			}
		}

		var app = null;

		$(document).ready(function(){
			// Initialize Firebase
			var config = {
			    apiKey: "AIzaSyDmXSkwOam-aQ37z8-3d5aH-X257lIVS34",
			    authDomain: "vog3lm-0x1.firebaseapp.com",
			    projectId: "vog3lm-0x1",
			};
			firebase.initializeApp(config);

			app = new V13wEv3ntsConfiguration();
		});
		$(window).load(function() {
			dispatcher = new V13wEv3ntD1spatch3r(app.getEvents())
			dispatcher.onRegister()
			dispatcher.onUnleash()

			var anima = {'lineColor':'#777','lineWidth':'1px'
						,'paneParent':'zone','paneId':'one'}
			var pane = new dotNetAnimation()
			pane.decorate(anima)
			animations[anima.paneId] = pane;
			anima.lineColor = '#777'
			anima.paneId = 'two'
			pane = new dotNetAnimation()
			pane.decorate(anima)
			animations[anima.paneId] = pane;
			jQuery.each(animations,(key,value) => {
			  	value.create();
			  	value.start();
			});
		});

	</script>
	<style type="text/css">
		/* Font and Color */
		* {margin: 0px;padding: 0px;}
		/* Geometry */
		html,body { position:absolute; height:100%; width:100%; padding:0px; margin:0px; overflow:hidden; }

		.hide{
			display:none;
		}
		.fa-1-5x{
			font-size:1.5em;
		}
		a.fa{
			float: left;
			width: 32px;
			height: 32px;
			line-height: 32px;
			vertical-align: middle;
			text-align: center;
		}

		body header {
			overflow:hidden;
			position:relative;
			width:100%;
			height:100%;
		}
		header canvas {
			position: absolute;
		}
		header canvas#one{
			transform:rotateY(30deg) scaleX(1.15);
		}
		header canvas#two{
			transform:rotateY(-20deg) scaleX(1.15);
		}

		header img.after-effect,
		footer img.after-effect{
			width:100%;
			height:100%;
		}

		header a.fa-question-circle,
		header a.fa-question-circle-o{
			position: absolute;
			right:0px;
		}
		header a.fa-cog,
		header nav#cfg-navigation{
			position: absolute;
			right:0px;
			bottom:0px;
		}
		header nav#cfg-navigation{
			bottom:32px;
			width:32px;
		}
		header a.fa-chevron-up,
		header a.fa-chevron-down{
			position: absolute;
			width: calc(100% - 32px - 25%);
			height: 14px;
			left:25%;
			bottom: 0px;
			line-height: 14px;
			vertical-align: middle;
			text-align: center;
		}
		header user{
			position:absolute;
			height:32px;
			width:25%;
			bottom:0px;
			overflow: hidden;
		}
		user form,
		user card{
			width:calc(100% - 32px);
			height:100%;
			padding:0px;
		}
		user form input{
			height:32px;
			width:50%;
			line-height:32px;
			vertical-align:middle;
			float:left;
		}
		user card id{
			height:32px;
			width:calc(100% - 2*32px);
			line-height:32px;
			vertical-align:middle;
			float:right;
			overflow:hidden;
		}

		body footer {
			position:relative;
			width:100%;
			height:35%;
		}
		footer form{
			position: relative;
			width: calc(25% - 2*2em);
		    height: calc(100% - 2*2em);
		    padding: 2em;
		    float:left;
		}
		footer form:nth-child(3){width: calc(50% - 2*2em);}








		form input,
		form a,
		form span {
			display:block;
			width: 100%;
		    height: 32px;
		    font-size: 1.25em;
		    line-height: 32px;
		    vertical-align: middle;	
		}
		body popup {
			font-size:2em;
			color:white;
			position: fixed;
			min-width: 32px;
		    max-width: calc(100%);
		    min-height: 32px;
		    max-height: calc(100%);
	        word-wrap: break-word;
		}

		body overlay {
			position: absolute;
			width: 100%;
		    height: 100%;
		    background: rgba(255,255,255,0.7);
		}
		header section#content{
		    position: absolute;
		    top: 0px;
		    width: 100%;
		    height: 100%;
		}





	</style>
</head>
<body>
	<header id="zone">
		<img class="after-effect" src="" alt="">
		<section id="content"></section>
		<a href="#" class="fa fa-question-circle-o fa-1-5x" call="help-toggle"></a>
		<a href="#" class="fa fa-cog fa-1-5x" call="cfg-toggle"></a>
		<nav id="cfg-navigation" class="hide">
			<a href="#" class="fa fa-pause" call="animation-pause"></a>
			<a href="#" class="fa"></a>
			<a href="#" class="fa fa-eyedropper fa-1-5x" call="animation-colors"></a>
			<a href="#" class="fa fa-eye-slash fa-1-5x" call="style-toggle"></a>
			<a href="#" class="fa fa-tachometer fa-1-5x" call="animation-velocity"></a>
			<a href="#" class="fa fa-wrench fa-1-5x" call="animation-refresh"></a>
		</nav>
		<user>
			<card class='hide'>
				<a href="#" class="fa fa-user" call="log-out"></a>
				<id></id>
			</card>
			<form class="hide" call="login-validate">
				<input type="text" id="mail" name="mail" placeholder="mail" value="">
				<input type="text" id="pass" name="pass" placeholder="pass" value="">				
			</form>
			<a href="#" class="fa fa-hashtag" call="login-show"></a>
		</user>
		<a href="#" id="footer-toggle" class="fa fa-chevron-up" call="footer-toggle"></a>
		<popup class="hide"></popup>
		<overlay class="hide"></overlay>
	</header>
	<footer>
		<form></form>
		<form class="half"></form>
		<form>
			<a href="#" >Impressum</a>
			<a href="#" >License</a>
			<a href="#" >Impressum</a>
		</form>			
	</footer>
</body>
</html>