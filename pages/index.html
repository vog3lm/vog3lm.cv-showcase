<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'/>
	<meta name="theme-color" content="#222222"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>smart.cv.og3lm</title>
	<link rel="manifest" href="/manifest.json"/>
	<link rel="stylesheet" type="text/css" href="css/font.awesome.min.css" media="screen,print"/>
    <link rel="stylesheet" type="text/css" href="css/font.geometry.css" media="screen"/>
    <link rel="stylesheet" type="text/css" href="css/design.geometry.css" media="screen"/>
    <!-- PRELOAD FONTS -->
    <link rel="preload" href="fonts/UbuntuMono-R.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="fonts/MyriadPro-Light.woff" as="font" crossorigin="anonymous" />
    <link rel="preload" href="fonts/MyriadPro-Semibold.woff" as="font" crossorigin="anonymous" />
    <link rel="preload" href="fonts/MyriadPro-Bold.woff" as="font" crossorigin="anonymous" />
    <!-- PRELOAD FONTS -->
	<link rel="shortcut icon" href="images/logos/fox.white.png" type="image/x-icon"/>
	<link rel="icon" 		  href="images/logos/fox.white.png" type="image/x-icon"/>

	<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-auth.js"></script>

	<script type="text/javascript" src="js/jq.min.js"></script>
	<script type="text/javascript" src="js/jm.min.js"></script>
	<script type="text/javascript" src="js/backend.js"></script>
	<script type="text/javascript" src="js/animate.fox.js"></script>
	<script type="text/javascript" src="js/animate.cv.js"></script>
	<script type="text/javascript" src="js/animate.dots.js"></script>
	<script type="text/javascript">

		/* @job :: dto to content adapter */
		function PageContentAdapter(){
			/* adapter meta.tag interface */
			this.get = function(data){
				var meta = data.meta;
				if('success' === meta.state){
					if('samples' === meta.tag){return this.samples(data.recs);}
					else if('leed' === meta.tag){return text(data.recs);}
					else{return this.mixed(data.recs,data.id);} 
				}
				else if('errors' === meta.state){
					console.log(data.errors)
					// if('Firebase Cold Start Error' in data.errors):
					// data['id'] = 'smart.cv.og3lm';
					return {'title':'smart.cv.og3lm','html':null};
				}
				else{return {'title':'smart.cv.og3lm','html':null};}
			}
			/* adapt content methods */
			this.mixed = function(records,title){
				var adaption = '';
				var print = {'title':'No Title','facility':'No Facility','period':'No Period','code':'No QR Code','label':'No Label','user':'No User','link':'No Link'};
				for(var i=0; i < records.length; i++){
					var vto = records[i];
					if('success' == vto.meta.state){
							 if('text' === vto.meta.type){adaption = adaption+text(vto.view);}
						else if('table' === vto.meta.type){adaption = adaption+table(vto.view,vto.meta);}
						else if('html' === vto.meta.type){adaption = adaption+html(vto.view,vto.meta);}
						else if('rate' === vto.meta.type){adaption = adaption+rate(vto.view,vto.meta);}
						else if('image' === vto.meta.type){adaption = adaption+image(vto.view,vto.meta);}
						else if('print' === vto.meta.type){print = vto.view;}
					}
				};
				return {'title':title,'html':adaption,'print':print}; 
			}
			this.samples = function(records){
				var html = '<h2>Code Samples</h2>';
				for(var i=0; i<records.length; i++){
					var record = records[i];
					html = html + '<a href="'+record.url+'" class="wrap">'
								+ '<p class="fa fa-'+record.src+'"></p>'
								+ '<p>'+record.text+'</p></a>';
				}
				return {'title':'Samples','html':html}; 
			}
			/* private helpers */
			function text(lines){
				var adaption = '';
				for(var i=0; i<lines.length; i++){
					var tmp = lines[i];
					if(tmp.indexOf('\t') != -1){
						tmp = tmp.split('\t');
						tmp = '<t class="l">'+tmp[0]+'</t><t class="r">'+tmp[1]+'</t>';
					}
					adaption = adaption+'<p>'+tmp+'</p>';
				};
				return adaption;
			}
			function table(records,meta){
				var adaption = '';
				if(meta.hasOwnProperty('title')){
					adaption = adaption+'<p><b>'+records[meta.title]+'</b></p>';
					records.shift();
				}
				var width = 100/meta.cols;
				adaption = adaption+'<table>'
				for(var i=0; i<records.length; i=i+meta.cols){
					adaption = adaption+'<tr>';
					for(var j=0; j<meta.cols; j=j+1){
						if(null != records[i+j]){
							adaption = adaption+'<td style="width:'+width+'%"">'+records[i+j]+'</td>';
						}
					}
					adaption = adaption+'</tr>';
				};
				return adaption+'</table><p> </p>';
			}
			function html(records,meta){
				var adaption = '';
				if(meta.hasOwnProperty('title')){
					adaption = adaption+'<p><b>'+records[meta.title]+'</b></p>';
					records.shift();
				}
				for(var i=0; i<records.length; i++){
					adaption = adaption+records[i];
				}
				return adaption;
			}
			function image(records,meta){
				var adaption = '';
				if('logo' === meta.url){
					for(var i=0; i<records.length; i++){
						var element = records[i];
						adaption = adaption+'<a href="'+element.link+'" id="'+meta.class+'-'+i+'" class="'+meta.class+'"><img src="images/logos/'+element.url+'"></<>';
					}
				}else{
					for(var i=0; i<records.length; i++){
						adaption = adaption+'<img id="'+meta.class+'-'+i+'" alt="portrait" class="'+meta.class+'" src="'+meta.url+records[i].url+'">';
					};
				}
				return adaption;
			}
			function rate(records,meta){
				var adaption = '';
				if(meta.hasOwnProperty('title')){
					adaption = adaption+'<p><b>'+records[meta.title]+'</b></p>';
					records.shift();
				}
				var cols = meta.cols;
				adaption = adaption+'<table>';
				for(var m=0; m<records.length; m=m+cols*2){
					adaption = adaption+'<tr>';
					for(var i=m; i<m+cols*2; i=i+2){
						if(records[i]){
							adaption = adaption+'<td>'+records[i]+'</td><td>'
							for(var j=0; j<records[i+1];j++){
								adaption = adaption+'<i class="rating fa fa-star"></i>';
							}
							for(var j=0; j<5-records[i+1];j++){
								adaption = adaption+'<i class="rating fa fa-star-o"></i>';
							}
							adaption = adaption+'</td>';
						}
					}
					adaption = adaption+'</tr>';
				};
				return adaption+'</table><p> </p>';
			}
		}
		/* @job :: content presenter */
		function PageContentPresenter(){
			/* content operator objects */
			var adapter = new PageContentAdapter();
			var popup = new P0pup4p1Operator().create(dispatcher);
			/* global args */
			var pageHeight = $(window).height();
			var pageWidth = $(window).width();
			var body = $('body');
			/* popup view args */
			this.popups = { // move to popup adapter ...
				'help':() => { // make as overlay
					popup.load({'content':'<p>swipe left/right</p>'
											 + '<p>foldable footer</p>'
											 + '<p>realtime animation control</p>'
											 + '<p>user login</p>'}).show();
				}
				,'dox':() => { // move to popup adapter ... // make separate page...
					popup.load({'content':'<h2>Informationsblatt</h2>' 

							 +'<p>full stack application mvp architecture</p>'

							 + '<p>event driven user interface</p>'
							 + '<p>dynamic backend analytics</p>'
							 + '<p>access thread alarms</p>'
							 + '<p>cookie free application</p>'
							 + '<p>open source frontend code</p>'
							 + '<p>open source backend code</p>'

							 + '<p>download certification functionallity</p>'
							 + '<p>download flyer functionallity</p>'
							 + '<p>private content query functionallity</p>'
							 + '<p>backend register new user functionallity</p>'
							 + '<p>popup overlay functionallity</p>'
							 + '<p>custom history functionallity</p>'
							 + '<p>touch device ready</p>'
							 + '<p>same origin ressource sharing policy</p>'

							 + '<img src="images/logos/firebase.png" height="64px"></img>'
							 + '<p>firebase functions backend</p>'
							 + '<p>firebase storage database</p>'
							 + '<p>firebase authenication</p>'
							 + '<p>firebase hosting</p>'

							 + '<img src="images/logos/html5.png" height="64px"></img>'
							 + '<img src="images/logos/css3.png" height="64px"></img>'
							 + '<img src="images/logos/js.png" height="64px"></img>'
							 + '<img src="images/logos/jq.png" height="64px"></img>'
							 + '<img src="images/logos/jqm.png" height="64px"></img>'
							 + '<p>html5, css3, javascript, jQuery, jQuery Mobile</p>'

							 + '<img src="images/logos/node.js.png" height="64px"></img>'
							 + '<img src="images/logos/express.js.png" height="64px"></img>'

							 + '<p>font-awesome, myriad pro, ubuntu mono</p>'

							 + '<p>ssl encryption</p>'

							 + '<p>responsive design</p>'
							 + '<p>bootstrap free css</p>'

							 + '<p>javascript animation</p>'

							 + '<p>smart printmedia support</p>'
							 + '<p>no password transmission printmedia auto login</p>'}).show();
				}
				,'samples':(data) => { // move to got-mvp
					var records = [{'url':'https://github.com/vog3lm/vog3lm.cv-showcase','src':'github','text':'smart cv code'}
								  ,{'url':'https://github.com/vog3lm/pi.muk','src':'github','text':'kleiner MUK'}
								  ,{'url':'https://github.com/vog3lm/scr.torcs','src':'github','text':'Torcs Race Client'}]; // Outlaw Crypto Recorder
					data = {'cols':[],'recs':records,'meta':{'state':'success','type':'dto','tag':'samples'}};
					popup.load({'content':adapter.get(data).html,'timeout':null}).show();
				}
			};
			/* leed popup args */
			var leedOperator = $('header user a#leed-operator');
			var leedEvent = {'call':'view-toggle','url':'leed','id':'leed'};
			var leedText = null;
			this.leed = {
				'load':() => {
					var l = window.localStorage.getItem('l');
					window.localStorage.setItem('l','null');
					if(l && 'null' !== l){
						json = JSON.parse(l);
						json.meta.state = 'success';
						json.meta.tag = 'leed';
						leedText = adapter.get(json);
						if(leedText){leedOperator.removeClass('hide');}
					}
				}
				,'show':() => {
					if(leedText){
						leedOperator.removeClass('fa-envelope');
						leedOperator.addClass('fa-envelope-open');
						popup.load({'content':leedText,'timeout':null,'size':'match','event':leedEvent}).show();
					}
				}
				,'hide':() => {
					leedOperator.removeClass('fa-envelope-open');
					leedOperator.addClass('fa-envelope');
				}
				,'toggle':() => {
					if(leedOperator.hasClass('fa-envelope')){this.leed.show();}
					else{this.leed.hide();}
				}
			}
			/* animation view args */
			var uiHolder = $('header nav#cfg-navigation');
			this.animation = {
				'toggle':() => {uiHolder.toggleClass('hide');}
				,'movement':() => {
					if(!body.hasClass('scroll-flag')){
						if(body.hasClass('animation-flag')){
							$('nav a.fa-pause').each(function(){
								var element = $(this)
								element.attr('title','Start Animation');
								element.removeClass('fa-pause');
								element.addClass('fa-play');
								//	cv.pause(); 			// make event listener style ...
								//	one.operator.pause();
							});
							body.removeClass('animation-flag');
							body.trigger('dot-net-pause');
							body.trigger('label-net-pause');
						}else{
							$('nav a.fa-play').each(function(){
								var element = $(this)
								element.attr('title','Stop Animation');
								element.removeClass('fa-play');
								element.addClass('fa-pause');
								// cv.resume();
								// one.operator.resume();
							});
							body.addClass('animation-flag');
							body.trigger('dot-net-resume');
							body.trigger('label-net-resume');
						}

					}
				}
				,'color':() => {
					var colors = ['#ff00aa','#aaff00','#3ed7f7','#ffff00','#a200ff'];
					var index = Math.floor(Math.random()*(colors.length-1));
					$('header a, header h1, header input, header id').css({'color':colors[index]}) 
					body.trigger('dot-net-color',[{'call':'dot-net-color','id':'animation','color':colors[index]}]);
				}
			};
			/* page style view args */
			this.style = {
				'toggle':() => {$('header nav#cfg-style').toggleClass('hide');}
			}
			/* login view args */
			var loginHolder = $('user');
			var loginCard = $('user card');
			var loginForm = $('user form');
			var loginOperator = $('user a#login-operator');
			var loginUser = null;
			this.login = {
				'load':(data) => {
					/* clear errors */
					loginOperator.removeClass('error');
					loginForm.removeClass('error');
					/* clear inputs */
					loginHolder.find('input#mail').val('');
					loginHolder.find('input#pass').val('');
					/* load view */
					if('auth-state-login' === data.id){
						loginUser = data.user;
						loginHolder.find('id').html(loginUser.email);
						loginForm.addClass('hide');
						loginCard.removeClass('hide');
						loginOperator.removeClass('fa-circle-o-notch');
						loginOperator.removeClass('fa-spin');
						loginOperator.removeClass('fa-hashtag');
						loginOperator.removeClass('fa-user');
						loginOperator.addClass('fa-lock');
						loginOperator.attr('call','view-toggle');
						loginOperator.attr('url','user');
						loginOperator.attr('title','Show User');
						this.leed.show();
					}else{
						loginCard.addClass('hide');
						loginForm.addClass('hide');
						loginOperator.attr('url','login');
						loginOperator.removeClass('fa-lock');
						loginOperator.addClass('fa-hashtag');
					}
				}
				,'show':() => {
					loginForm.removeClass('hide');
					loginOperator.attr('title','Hide Login');
					loginOperator.removeClass('fa-hashtag');
					loginOperator.addClass('fa-user');
					loginHolder.find('input#mail').focus();
				}
				,'hide':() => {
					/* clear errors */
					loginOperator.removeClass('error');
					loginForm.removeClass('error');
					/*  */
					loginForm.addClass('hide');
					loginOperator.attr('title','Show Login');
					loginOperator.removeClass('fa-user');
					loginOperator.addClass('fa-hashtag');
				}
				,'toggle':() => {
					if(loginForm.hasClass('hide')){this.login.show();} 
					else{this.login.hide();}
				}
				,'validate':() => {
					var user = loginForm.find('input#mail').val();
					var pass = loginForm.find('input#pass').val();
					var errors = [];
					if('' === user){errors.push('no user name found');}
					if('' === pass){errors.push('no password found');}
					if(0 < errors.length){
						this.login.error({'errors':errors});
					}else{
						loginOperator.removeClass('fa-user');
						loginOperator.addClass('fa-circle-o-notch');
						loginOperator.addClass('fa-spin');
						$('body').trigger('log-in',[{'call':'log-in','id':'login-validate','url':'login','mail':user,'pass':pass}]);
					}
				}
				,'error':(data) => {
					loginOperator.removeClass('fa-circle-o-notch');
					loginOperator.removeClass('fa-spin');
					loginOperator.addClass('fa-user');
					loginOperator.addClass('error');
					loginForm.addClass('error');
					loginForm.find('input#mail').addClass('error');
					loginForm.find('input#pass').addClass('error');
					// show popup ...
				}
				,'popup':() => {
					var content = ''
					if(null === loginUser){
						content = '<p>No User Found.</p>'
								+ '<p>Sign In First.</p>'
					}else{
						content = '<h2>User Details</h2>'
							/*	+ '<img src="images/logo.png">'
								+ '<img src="images/code.png">'
								    width:164px;
								    position:absolute;
								    right:1em;
								    top:calc(32px + 1em); */
								+ '<p>Name: '+loginUser.name+'</p>'
								+ '<p>Email: '+loginUser.email+'</p>'
								+ '<p>Phone: '+ loginUser.phone+'</p>'
								+ '<p>Platform: '+ navigator.platform+'</p>'
								+ '<p>User Id: '+ loginUser.uid+'</p>'
								+ '<p>User Token: '+ loginUser.token+'</p>'
					}
					popup.load({'content':content,'timeout':null,'size':'match'}).show();
				}
			};
			/* footer view args */
			var footerHolder = $('footer');
			var footerView = $('footer section#content');
			var footerOverlay = $('footer overlay#footer-overlay');
			this.footer = {
				'load':(data) => {
					var vto = adapter.get(data);
					document.title = vto.title;
					/* update screen layout blocks */
					footerView.attr('view',data.id);
					footerView.html(vto.html);
					footerHolder.find('a.fa-download').attr('q',data.meta.id);
					footerOverlay.addClass('hide');
					/* update print layout blocks */
					$('footer section.print h1#print-title').html(vto.print.title);
					$('footer section.print p#print-facility').html(vto.print.facility);
					$('footer section.print p#print-period').html(vto.print.period);
					$('footer section.print-label img#print-label').attr('src',headerContent.find('img#'+data.id).attr('src'));
					$('footer section.print-label img#print-code').attr('src','images/code.png');
					var today = new Date();
					$('footer section.print p#print-disclaimer').html('Dieser Ausdruck stellt keinen offiziell gültigen Nachweis für erbrachte Leistungen dar. Es handelt sich um ein selbst erstelltes Duplikat, erstellt am '+today.getDate()+'.'+today.getMonth()+'.'+today.getFullYear()+' für '+loginUser.name+'.');
					var link = $('footer section.print a#print-link')
					link.html('http://....de');
					link.attr('href','#');
				}
				,'show':(data) => {
					footerView.html('');
					footerOverlay.removeClass('hide');
					footerOverlay.find('p').html('loading '+data.id+' data');
					body.scrollTop(footerHolder.height());
					body.addClass('scroll-flag');
					if(null === loginUser){this.footer.error({'code':'0','errors':['no user logged in','log in or request permission']});}
					else{body.trigger('call-mvp',[{'id':data.id,'url':'footer','q':$('img#'+data.id).attr('q')}]);}
				}
				,'hide':() => {
					document.title = 'smart.cv.og3lm';
					/* update screen layout blocks */
					footerOverlay.addClass('hide');
					body.scrollTop(0);
					body.removeClass('scroll-flag');
					footerView.html('');
					footerHolder.find('a.fa-download').attr('q','unset');
					/* update print layout blocks */
					// remove Titel
					// remove Einrichtung/Unternehmen
					// remove Zeitraum
					// remove image/qr.code
					// remove Datum/Benutzer
					// remove Nachweislink
				}
				,'toggle':(data) => {
					if(!body.hasClass('scroll-flag')){this.footer.show(data);}
					else{this.footer.hide();}
				}
				,'error':(data) => {
					if(-1 !== data.errors.indexOf('Firebase Cold Start Timeout')){
						/* retry on firebase cold start timeout */
						data.load = 30;
						data.q = data.q;
					} else {
						/* default error */
						footerOverlay.find('p').html('error '+data.code+': '+data.errors.join('<br>'));
					}
				}
			};
			/* header view args */
			var headerContent = $('header section#content');
			var gestures = {'swiperight':{'call':'header-left','url':''}
						   ,'swipeleft':{'call':'header-right','url':''}
						   ,'orientationchange':{'call':'get-reloaded'}};
			var headerSwipe = new Swipe4p1Operator().decorate({'mapping':gestures,'parent':headerContent,'id':'header','mode':'relative'
																,'before':()=>{return !body.hasClass('scroll-flag');}}).create(dispatcher);
			this.header = {
				'show':() => {
					document.title = 'smart.cv.og3lm';
					/* show page decoration */
					$('img.label').css({'visibility':'visible'});
					$('a.fa-chevron-right').css({'visibility':'visible'});
					$('a.fa-chevron-left').css({'visibility':'visible'});
					
					//	$('footer section#content').attr('view','empty');
					//	$('footer edge.hr a.fa-download').attr('q','unset');
				}
				,'hide':(data) => {
					document.title = data.id;
					/* hide page decoration */
					$('img.label').css({'visibility':'hidden'});
					$('a.fa-chevron-right').css({'visibility':'hidden'});
					$('a.fa-chevron-left').css({'visibility':'hidden'});
				}
				,'toggle':(data) => {
					if(!body.hasClass('scroll-flag')){this.header.show(data);}
					else{this.header.hide();}
				}
			};
			/* 	header view args */
			this.download = {
				'request':(data) => {
					var element = $('a#'+data.id);
					if(!element.hasClass('fa-spin')){
						element.removeClass('fa-download');
						element.addClass('fa-circle-o-notch');
						element.addClass('fa-spin');
						body.trigger('call-src',[{'call':'call-src','id':data.id,'q':element.attr('q'),'url':'download'}]);
					}
				}
				,'load':(data) => {
					var a = document.createElement('a'); /* download */
					var pdfAsDataUri = "data:application/pdf;base64, "+data.pdf;
					a.download = data.name;
					a.type = 'application/pdf';
					a.href = pdfAsDataUri;
					a.click();

					var element = $('a#'+data.id);
					element.removeClass('fa-spin');
					element.removeClass('fa-circle-o-notch');
					element.addClass('fa-download');
				}
				,'error':(data) => {
					element.removeClass('fa-spin');
					element.removeClass('fa-circle-o-notch');
					element.addClass('fa-download');

					console.error('download error not implemented',data)
				}
			};
			/*  */
			var searchHolder = $('header search');
			var searchOperator = $('header search a#search-toggle');
			this.search = {
				'load':(data) => {}
				,'show':() => {
					searchHolder.css({'top':'0px'});
					searchHolder.addClass('search-flag');
					searchOperator.removeClass('fa-chevron-down');
					searchOperator.addClass('fa-chevron-up');
				}
				,'hide':() => {
					searchHolder.css({'top':-(searchHolder.height()-90)+'px'});
					searchHolder.removeClass('search-flag');
					searchOperator.removeClass('fa-chevron-up');
					searchOperator.addClass('fa-chevron-down');
				}
				,'toggle':() => {
					if(searchHolder.hasClass('search-flag')){this.search.hide();}
					else{this.search.show();}
				}
				,'validate':() => {}
			}
			/* main view interface *//*
			   wraps header/footer ui */
			this.page = {
				'load':(data) => { /* history operator call */
					console.log('page.load',data.id)
					this.footer.hide();
					this.header.show();
					if(data.direction === -1){headerSwipe.prev();}
					else if(data.direction === 1){headerSwipe.next();}
					else{
						if(data.id.indexOf('get-next') != -1){headerSwipe.prev();}
						else if(data.id.indexOf('get-prev') != -1){headerSwipe.next();}
						else{console.log('get history went wrong.',data.id,data.direction);}
					}
				}
				,'toggle':(data) => {
					if(!body.hasClass('scroll-flag')){
						this.header.hide(data);
						this.footer.show(data);
					}else{
						this.header.show();
						this.footer.hide();
					}
				}
				,'print':(data) => {
					if('afterprint' === data.id){
						body.scrollTop(footerHolder.height());
					}
					else{window.print();}
				}
			};
			this.message = {
				'toggle':() => {
					var content = '<form>'
						+'<input type="text" id="name" name="name" placeholder="Enter Your Name">'
						+'<error id="name" class="hide">Enter your Name</error>'
						+'<input type="email" id="from" name="from" placeholder="Enter Your Email">'
						+'<error id="from" class="hide">Enter a valid Email Address</error>'
						+'<textarea id="message" rows="7" cols="50" placeholder="Enter Your Message"></textarea>'
						+'<error id="message" class="hide">Leave a message</error>'
						+'<a href="#" class="fa fa-send" title="Send Message"></a>'
					+'</form>';
					popup.load({'content':content,'timeout':null,'size':'match'}).show();
					$('popup form a.fa-send').on('click',function(){
						body.trigger('form-validate',[{'call':'form-validate','url':'message'}]);
					})
				}
				,'validate':() => {
					var errorMessage = $('popup form error#message');
					var errorSender = $('popup form error#name');
					var errorFrom = $('popup form error#from');
					errorSender.addClass('hide');
					errorFrom.addClass('hide');
					errorMessage.addClass('hide');
					var from = $('popup form input#name').val();
					var mail = $('popup form input#from').val();
					var text = $('popup form textarea#message').val();
					var errors = [];
					if('' === from){
						errors.push('no sender name found');
						errorSender.removeClass('hide');
					}
					if('' === mail){
						errors.push('no sender mail found');
						errorFrom.removeClass('hide');
					}
					if('' === text){
						errors.push('no message found');
						errorMessage.removeClass('hide');
					}
				}
				,'error':(data) => {

				}
			}
		}
		/* @job :: input operator */
		function PagePresenterInterface(){
			var presenter = new PageContentPresenter();
			/* auto routing interaface methods */
			this.load = (key,data)=>{
				if('login' === key){presenter.login.load(data);}
				else if('footer' === key){presenter.footer.load(data);}
				else if('page' === key){presenter.page.load(data);}
				else if('download' === key){presenter.download.load(data);}
				else if('leed' === key){presenter.leed.load();}
				else{console.error('load error. content key',key,'is unknown.',data);}
			};
			this.error = (key,data)=>{
				if('login' === key){presenter.login.error(data);}
				else if('footer' === key){presenter.footer.error(data);}
				else if('download' === key){presenter.download.error(data);}
				else{console.error('error error. content key',key,'is unknown.',data);}
			}
			this.show = (key,data)=>{
				if('login' === key){presenter.login.show();}
				else{console.error('show error. content key',key,'is unknown.',data);}
			};
			this.hide = (key,data)=>{
				if('login' === key){presenter.login.hide();}
				else{console.error('hide error. content key',key,'is unknown.',data);}
			};
			this.toggle = (key,data)=>{
				if('login' === key){presenter.login.toggle();}
				else if('search' === key){presenter.search.toggle(data);}
				else if('page' === key){presenter.page.toggle(data);}
				else if('print' === key){presenter.page.print(data);}
				else if('download' === key){presenter.download.request(data);}
				else if('user' === key){presenter.login.popup();}
				else if('animation' === key){presenter.animation.toggle();}
				else if('animation-move' === key){presenter.animation.movement();}
				else if('animation-color' === key){presenter.animation.color();}
				else if('style' === key){presenter.style.toggle();}
				else if('help' === key){presenter.popups.help();}
				else if('dox' === key){presenter.popups.dox();}
				else if('samples' === key){presenter.popups.samples(data);}
				else if('leed' === key){presenter.leed.toggle();}
				else if('message' === key){presenter.message.toggle();}
				else{console.error('toggle error. content key',key,'is unknown.',data);}
			};
			this.swipe = (key,data)=>{
				if('header-left' == key){presenter.header.prev();}
				else if('header-right' == key){presenter.header.next();}
				else{console.error('validate error. content key',key,'is unknown.',data);}
			};
			this.validate = (key,data)=>{
				if('login' == key){presenter.login.validate();}
				else if('message' == key){presenter.message.validate();}
				else{console.error('validate error. content key',key,'is unknown.',data);}
			};
		}
		/* @job :: input listener */
		function PageEventListener(){
			var operator = new PagePresenterInterface();
			var events = {
				'got-mvp':(data) => {operator.load(data.url,data);}
				,'got-pdf':(data) => {operator.load(data.url,data);}
				,'got-error':(data) => {operator.error(data.url,data);}
				,'view-toggle':(data) => {operator.toggle(data.url,data);}
				,'view-swipe':(data) => {operator.swipe(data.url,data);}
				,'form-validate':(data) => {operator.validate(data.url,data);}
			}
			this.create = function(d){
				if(d){
					d.onAppend({'events':Object.keys(events),'issues':Object.values(events)});
				} else {
					console.warning('page listener','internal dispatcher used');
					new V13wEv3ntD1spatch3r().onDecorate({'events':Object.keys(events),'issues':Object.values(events)}).onRegister();
				}
			}
		}
		/* @job :: initialize contents */
		var dispatcher = new V13wEv3ntD1spatch3r();
		$(document).ready(function(){
			var config = {
			    apiKey:"AIzaSyDmXSkwOam-aQ37z8-3d5aH-X257lIVS34",
			    authDomain:"vog3lm-0x1.firebaseapp.com",
			    projectId:"vog3lm-0x1",
			};
			firebase.initializeApp(config);
			new Mvp4p1Operator().create(dispatcher);
			new PageEventListener().create(dispatcher);
			new D3s1gn4p1Operator().create(dispatcher);
			new F1rebas3Auth4p1Operator(firebase).create(dispatcher);
			new BrowserHistorD1spatcher().create(dispatcher);
			/**/
			var animations = {'fox':{'lineColor':'#373737','lineWidth':'1px','paneParent':'zone','paneId':'fox','scaleFactor':11,'dotLeft':25,'dotBottom':5}
							,'cv':{'lineColor':'#373737','lineWidth':7,'paneParent':'zone','paneId':'cv'}
							,'one':{'lineColor':'#373737','lineWidth':'1px','paneParent':'zone','paneId':'one'}
							,'two':{'lineColor':'#373737','lineWidth':'1px','paneParent':'zone','paneId':'two'}
							,'tre':{'lineColor':'#373737','lineWidth':'1px','paneParent':'zone','paneId':'tre'}}
			var one = new DotNetHolder().operator.decorate(animations.one).create(dispatcher).start();
			new FoxNetHolder().operator.decorate(animations.fox).interlink(one.objects.dots).create(dispatcher).start();
			new CvAnimationHolder().operator.decorate(animations.cv).create(dispatcher).start();
			/* integrate in swipe api operator */
			var keymap = {'37':{'call':'header-left','url':'header-left'}
						 ,'39':{'call':'header-right','url':'header-right'}
						 ,'27':{'call':'view-toggle','url':'keyboard'}};
			new Keyboard4p1Operator().map(keymap).create();
		});
		$(window).load(function() {
			dispatcher.onRegister().onUnleash();
			$('body').trigger('history-replace',{'call':'got-mvp','url':'page','id':'get-next','index':0});
			$('body').trigger('got-mvp',{'call':'got-mvp','id':'doc-load','url':'leed'});
		});
	</script>
	<style type="text/css">
		/* custom page styles *//* 
		 * header animation geometry */
		header canvas{ position:absolute; }
		header canvas#one{ transform:rotateY(30deg) scaleX(1.15); }
		header canvas#two{ transform:rotateY(-20deg) scaleX(1.15); }
		/* page header section */	
		header a.fa-chevron-right, /* ui swipe */
		header a.fa-chevron-left{
			z-index:2;
			position:absolute;
			top:50%;
		}
		header a.fa-chevron-right{ right:0em; }
		/* reorder hello world label */
		@media screen and (orientation:landscape){
			header img#personal{
				bottom:13%;
				right:60%;
				width:22%;
			}
		}
		@media screen and (orientation:portrait){
			header img#personal{
				bottom:12%;
				right:21%;
				width:50%;
			}
		}
		header img#personal{
			position: absolute;
    		z-index:1;
    		cursor:pointer;
    		max-height:50%
		}
		header img#message{
			position:absolute;
			z-index:1;
			cursor:pointer;
		}
		/* content access/moving labels */
		header section#content playground{
			position:absolute;
			top:0px;
			left:0px;
			width:100%;
			height:100%;
		}
		header section#content playground:nth-child(1){ left:100%; }
		header section#content playground:nth-child(2){ left:200%; }
		header section#content img.label{ 
			z-index:1;
			position:absolute;
			cursor:pointer;
			margin:0px;
			padding:0px;
			width:15%;
		}
		header section#content img.s{
			max-width:144px;
			min-width:48px;
			max-height:144px;
			min-height:48px;
		}
		header section#content img.m {
			max-width:144px;
			min-width:48px;
			max-height:168px;
			min-height:56px;
		}
		/**/
		popup form input,
		popup form textarea{
			width:100%;

			font-size:1.5em;
			color:black;
		
			background:transparent;
		}
		popup form a.fa{
			color:black;
			float:right;
		}
		popup form input:nth-of-type(2){
			margin-top:7px;
			outline:none;
		}
		popup form textarea{
			margin-top:21px;
			resize:none;
			border:0px solid black;
			outline:none;
		}
		popup form error {
			color:red;
			display: inline-block;
		}
		popup form error:last-of-type{
			line-height: 32px;
			height: 32px;
			vertical-align: middle;
		}

		/* skill scout form */
		header search{
			position:absolute;
			left:45%;
			height:576px;
			top:-486px;
			width:40%;
			z-index:1;
		}
		header search img {
			width:100%;
			height:100%;
		}
		header search wrap {
			position:absolute;
			top:0px;
			left:100px;
			width:calc(100% - 100px - 60px);
			height:calc(100% - 100px);
			overflow:hidden;
		}
		header search wrap form {
			width:100%;
			height:100%;
			margin-left:14px;
			font-size:2em;
			overflow-y:auto;
		}
		header search wrap form h3 {
			margin-top:24px;
			margin-bottom:14px;
		}
		header search wrap form input[type="checkbox"]{
		    display: inline-block;
			height:16px;
			width:16px;
			margin-left:8px;
			margin-right:8px;
			cursor:pointer;

            -webkit-appearance:none;

            background-color:transparent;
            border:1px solid rgba(187,187,187,1);
            box-shadow:0px 0px 0px rgba(0,0,0,0.05), inset 0px -15px 10px -12px rgba(0,0,0,0.05);
            border-radius:0px;			
		}
		header search wrap form input[type="checkbox"]:checked{ background:rgba(187,187,187,1); }
		header search wrap form l{
			display: inline-block;
			height:32px;
			line-height:32px;
			vertical-align:middle;
		}
		header search wrap form l.topic{ min-width:calc(100% / 2 - 32px); }
		header search wrap form l.code{ min-width:calc(100% / 5 - 32px); }
		header search a#search-toggle{
			position:absolute;
			top:calc(100% - 76px);
			left:50%;
			width:96px;
			color:#363636;
			font-size:32px;
		}
		/* footer geometry */
		@media screen and (min-width:1024px){
			/* and (orientation:landscape) */
			footer section#content{ width:60%; }
			footer section p{ font-size:2em; }
			footer section table{ font-size:2em; }
			footer overlay p{ font-size:2em; }
		}
		footer section#content p{
			margin-top:1em;
			margin-bottom:1em;
		}
		footer section#content textarea{
			font-size:2em;
			margin-bottom:0.5em;
			resize:none;
			border:0px solid #000;
			outline:none;
			overflow:hidden;
		 	width:100%;
			height:50%;
			color:rgba(34,34,34,1);
		}
		footer section#content p:first-child,
		footer section#content textarea:first-child{
			margin-top:5em;
		    max-width: 75%;
		}
		footer section#content p:last-child,
		footer section#content textarea:last-child{ margin-bottom:5em; }
		footer section#content table{ width:100% }
		footer section#content table td{ vertical-align:top; }
		footer section#content table td:nth-child(even){ text-align:center; }
		footer section#content i.rating{ color:gray; }
		footer section#content img.photo{
			position:absolute;
		    top:0px;
		    margin-top:10em;
			right:32px;
			height:calc(256px * 0.8);
			width:512px;
		}
		footer section#content a.logo{
			position:absolute;
			height:86px;
			/*min-width:86px;*/
			top:0px;
			right:0px;
			margin-top:5em;
		}
		footer section#content a.logo img{ height:100%; }
		footer section#content a#logo-1{ right:0px; }
		footer section#content a#logo-0{ right:96px; }

		footer section#content t.l{
			display:inline-block;
			vertical-align:top;
			width:32px;
		}
		footer section#content t.r{
			display:inline-block;
			vertical-align:top;
			width:calc(100% - 32px);
		}
		footer section#content v{
			width:100%;
			display:block;
		}
		/* loading/error overlay content */
		footer overlay img{
			position:absolute;
			height:25%;
			left:50%;
			top:50%;
			transform:translate(-50%,-50%);
		}
		footer overlay p{
			position:absolute;
			left:50%;
			top:65%;
			transform:translate(-50%,0%);
			text-align:center;
		}
		footer a#close-footer{
			position:absolute;
			width:50%;
			left:25%;
			z-index:4;
		}

		/* content print layout *//*
		 * screen section */
		footer section.print {
			display:none;
			position:relative;
		}
		footer section.print-label{
			display:none;
			position:absolute;
			height:calc(25px + 38px + 3em);
			right:0px;
			top:0px;
			margin-top:1em;
		}
		footer section.print-label img{ height:100%; }
		/* print layout *//*
		 * print section *//*
		 *  https://www.quackit.com/css/at-rules/css_page_at-rule.cfm 
		 * https://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css
		 * https://www.smashingmagazine.com/2015/01/designing-for-print-with-css/ *//*
		 * level 3 margin-boxes not supported */
		@media print{
			@page {margin:1.5cm;}
			/**/
			head {display:none;}
			body{
				margin:0px;
				padding:0px;
				font-size:12pt;
				font-family:monospace;
			}
			/* hide header elements */
			header {display:none;}
			/* hide footer elements */
			footer edge {display:none;}
			footer a#close-footer {display:none;}
			footer img.after-effect {display:none;}
			footer overlay {display:none;}
			/* size content elements */
			footer section.print {
				display:block !important;
			}
			footer section.print-label {
				display:block !important;
			}
			footer section#content {
				position:relative;
				/*overflow:visible;*/
				page-break-after:auto;
				page-break-before:auto;
				page-break-inside:auto;
			}
		}
	</style>
</head>
<body class="animation-flag">
	<header id="zone">
		<img class="after-effect" src="" alt="head"></img>
		<img id="personal" class="label after-effect" alt="hello" call="view-toggle" url="page" q="6PW2gsYzD" src=""></img>
		<img id="message" class="hide" alt="message" call="view-toggle" url="message" src="ddd"></img>
		<search class="hide">
			<img id="after-search" class="after-effect" alt="scout" src="">
			<wrap>
				<form>
					<!-- !!! anders machen !!! -->
					<h3>Themengebiete</h3>
					<l class="topic"><input type="checkbox" name="search-cb-1" value="cb-1">Betriebswirtschaft</l>
					<l class="topic"><input type="checkbox" name="search-cb-3" value="cb-3">Mathematik</l>
					<l class="topic"><input type="checkbox" name="search-cb-3" value="cb-3">Netzwerktechnik</l>
					<l class="topic"><input type="checkbox" name="search-cb-2" value="cb-2">Pädagogik</l>
					<l class="topic"><input type="checkbox" name="search-cb-1" value="cb-1">Programmieren</l>
					<l class="topic"><input type="checkbox" name="search-cb-1" value="cb-1">Volkswirtschaft</l>
					<!-- kuenstliche Intelligenzen -->
					<!-- Betriebssysteme :: Windows Linux Raspberry Pi Android -->
					<h3>Programmiersprachen</h3>
					<l class="code"><input type="checkbox" name="search-cb-1" value="cb-1">Assembler</l>
					<l class="code"><input type="checkbox" name="search-cb-2" value="cb-2">C</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">C++</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">C#</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">Python</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">Java</l>
					<h3>Programmiersprachen</h3>
					<l class="code"><input type="checkbox" name="search-cb-1" value="cb-1">Assembler</l>
					<l class="code"><input type="checkbox" name="search-cb-2" value="cb-2">C</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">C++</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">C#</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">Python</l>
					<l class="code"><input type="checkbox" name="search-cb-3" value="cb-3">Java</l>

				</form>
			</wrap>
			<a href="#" id="search-toggle" class="fa fa-chevron-down" call="view-toggle" url="search"></a>
		</search>
		<section id="content" index="0">
			<playground index="2">
				<img class="label m" call="view-toggle" url="page" q="uiLT6kFBG" id="tutor" src="images/labels/hs.tutor.png"></img>
				<img class="label m" call="view-toggle" url="page" q="hN3EptFwt" id="konstanz" src="images/labels/uni.mathe.png"></img>
				<img class="label s" call="view-toggle" url="page" q="lvhPjXCTi" id="abitur" src="images/labels/wg.abi.png"></img>
				<img class="label s" call="view-toggle" url="page" q="mWwEH7SIG" id="service" src="images/labels/rhk.service.png"></img>
			</playground>
			<playground index="1">
				<img class="label m" call="view-toggle" url="page" q="QspGcws6S" id="berufsschule" src="images/labels/ihk.bank.png"></img>
				<img class="label m" call="view-toggle" url="page" q="P6deO31J9" id="bank" src="images/labels/ksk.bank.png"></img>
				<img class="label s" call="view-toggle" url="page" q="cZ311yCvd" id="zivildienst" src="images/labels/rhk.zivi.png"></img>
				<img class="label s" call="view-toggle" url="page" q="oa2G72Hbz" id="grundschule" src="images/labels/grund.schule.png"></img>
				<img class="label s" call="view-toggle" url="page" q="OMHCIBQLa" id="realschule" src="images/labels/mittlere.reife.png"></img>
			</playground>
			<playground index="0">
				<img class="label m" call="view-toggle" url="page" q="VA0850MmS" id="bachelor" src="images/labels/hs.bachelor.png"></img>
				<img class="label m" call="view-toggle" url="page" q="JxR6XBz6v" id="paedagogik" src="images/labels/ph.png"></img>
				<img class="label m" call="view-toggle" url="page" q="W9wNjMC7p" id="wirtschaftsinformatik" src="images/labels/hs.wi.png"></img>
				<img class="label m" call="view-toggle" url="page" q="R59lkouIm" id="schuelerhilfe" src="images/labels/sh.png"></img>
				<img class="label m" call="view-toggle" url="page" q="t6a5gVVXy" id="zf" src="images/labels/zf.intern.png"></img>
			</playground>
		</section>
		<edge class="hr">
			<a href="#" class="fa-stack" call="view-toggle" url="message">
				<i class="fa fa-circle-thin fa-stack-2x"></i>
				<i class="fa fa-sticky-note fa-stack-1x"></i>
			</a>
			<a href="#" class="fa-stack" call="view-toggle" url="help">
				<i class="fa fa-circle-thin fa-stack-2x"></i>
				<i class="fa fa-question fa-stack-1x"></i>
			</a>
			<a href="#" class="fa-stack" call="view-toggle" url="dox">
				<i class="fa fa-circle-thin fa-stack-2x"></i>
				<i class="fa fa-exclamation fa-stack-1x"></i>
			</a>
			<a href="#" class="fa-stack" call="view-toggle" url="samples">
				<i class="fa fa-circle-thin fa-stack-2x"></i>
				<i class="fa fa-github fa-stack-1x"></i>
			</a>
		</edge>
		<edge class="br">
			<a href="#" class="fa fa-magnet hide" call="view-toggle" url="style" title="Page Styles"></a>
			<a href="#" class="fa fa-cog" call="view-toggle" url="animation" title="Animation Controls"></a>
		</edge>
		<nav id="cfg-navigation" class="hide">
			<a href="#" class="fa fa-pause" call="view-toggle" url="animation-move" title="Stop Animation"></a>
			<a href="#" class="fa"></a>
			<a href="#" class="fa fa-eyedropper" call="view-toggle" url="animation-color" title="Switch Interface Colors"></a>
			<a href="#" class="fa fa-paint-brush" call="design-toggle" title="Switch Interface Design"></a>
			<a href="#" class="fa fa-tachometer" call="view-toggle" url="animation-velocity"  title="Animation Speed Configuration"></a>
		</nav>
		<nav id="cfg-style" class="hide">
			<a href="/listing" class="fa fa-th-list" title="List View"></a>
			<a href="/cards" class="fa fa-th-large" title="Card View"></a>
		</nav>
		<edge class="bl">
			<user>
				<a href="#" id="login-operator" class="fa fa-hashtag" call="view-toggle" url="login" title="Show Login"></a>
				<card class='hide'>
					<a href="#" id="leed-operator" class="fa fa-envelope hide" call="view-toggle" url="leed" title="Show Leed Text"></a>
					<a href="#" id="logout-operator" class="fa fa-user" call="log-out" url="login" title="Logout"></a>
					<id></id>
				</card>
				<form class="hide" call="form-validate" url="login">
					<input type="text" id="mail" name="mail" placeholder="mail" value="" autocomplete="on">
					<input type="password" id="pass" name="pass" placeholder="pass" value="" autocomplete="off">				
				</form>
			</user>
		</edge>
		<a href="#" id="get-header-next" class="fa fa-chevron-right" call="header-right"></a>
		<a href="#" id="get-header-prev" class="fa fa-chevron-left hide" call="header-left"></a>
		<overlay id="header-overlay" class="hide semi"></overlay>
	</header>
	<footer>
		<img class="after-effect" src="" alt="foot"></img>
		<a href="#" id="close-footer" class="fa fa-chevron-down" call="view-toggle" url="page"></a>
		<edge class="hr">
			<a href="#" id="content-download" class="fa fa-download" title="Download PDF" call="view-toggle" q="unset" url="download"></a>
			<a href="#" id="content-print" class="fa fa-print" title="Print Source" call="view-toggle" q="unset" url="print"></a>
		</edge>
		<!-- print layout element -->
		<section class="print">
			<h1 id="print-title">Angewandte Informatik</h1>
			<p id="print-facility">Fachhochschule Ravensburg Weingarten</p>
			<p id="print-period">2010-2014</p>
		</section>
		<section class="print-label">
			<img id="print-label" src="images/labels/hs.bachelor.png">
			<img id="print-code" src="images/code.png">
		</section>
		<!-- end of print layout block -->
		<section id="content" index="0" view="emtpy"></section>
		<!-- print layout element -->
		<section class="print">
			<p id="print-disclaimer">Dieser Ausdruck stellt keinen offiziell gültigen Nachweis für erbrachte Leistungen dar. Es handelt sich um ein selbst erstelltes Duplikat, erstellt am Datum für Benutzername.</p>
			<p>Link zum offiziell gültigen Leistungsnachweis: <a id="print-link" href="#"></a></p>
		</section>
		<!-- end of print layout block -->
		<overlay id="footer-overlay" class="hide semi">
			<img src="images/logos/fox.gray.png"></img>
			<p>lädt...</p>
		</overlay>
	</footer>
</body>
</html>